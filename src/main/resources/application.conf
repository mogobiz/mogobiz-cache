akka {
  //loglevel = "DEBUG"
  http.host-connection-pool {
    max-connections = 4,
    max-retries = 1000,
  }
}

mogobiz.cache {
  server {
    es {
      protocol: "http",
      host: "192.168.1.229",
      port: 12200
      maxClient: 10
    },
    api {
      protocol: "http",
      host: "mogobiz.ebiznext.com",
      port: 12000,
      maxClient: 10
    },
    jahia {
      protocol: "http",
      host: "mogobiz.ebiznext.com",
      port: 12000,
      maxClient: 10
    }
  },
  store: "acmesport",
  uri {
    api {
      prefix: "/api/store/"${mogobiz.cache.store},
      process: [
        {
          input: {
            index: ${mogobiz.cache.store},
            type: "product",
            fields: ["id"],
            scroll: "5m",
            size: 100
            server: ${mogobiz.cache.server.es}
          },
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/products/{0}"
            server: ${mogobiz.cache.server.api}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/products"
            server: ${mogobiz.cache.server.api}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/promotions"
            server: ${mogobiz.cache.server.api}
          }
        },
        {
          input: {
            index: ${mogobiz.cache.store},
            type: "brand",
            fields: ["id"]
            server: ${mogobiz.cache.server.es}
          },
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/brands?brandId={0}"
            server: ${mogobiz.cache.server.api}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/brands"
            server: ${mogobiz.cache.server.api}
          }
        },
        {
          input: {
            index: ${mogobiz.cache.store},
            type: "category",
            fields: "path"
            server: ${mogobiz.cache.server.es}
          },
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/categories?categoryPath={0}"
            server: ${mogobiz.cache.server.api}
          }
        },
        {
          input: {
            index: ${mogobiz.cache.store},
            type: "category",
            fields: ["parentId"]
            server: ${mogobiz.cache.server.es}
          },
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/categories?parentId={0}"
            server: ${mogobiz.cache.server.api}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.api.prefix}"/categories"
            server: ${mogobiz.cache.server.api}
          }
        }
      ]
    },
    jahia {
      prefix: "/cms/render/live/en/sites/"${mogobiz.cache.store}
      process: [
        {
          input: {
            index: ${mogobiz.cache.store},
            type: "product",
            fields: ["id"],
            scroll: "5m",
            size: 100
            server: ${mogobiz.cache.server.es}
          },
          output: {
            uri: ${mogobiz.cache.uri.jahia.prefix}"/home/new-products/{0}.html"
            server: ${mogobiz.cache.server.jahia}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.jahia.prefix}"/home/new-products.html"
            server: ${mogobiz.cache.server.jahia}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.jahia.prefix}"/home/all-promotions.html"
            server: ${mogobiz.cache.server.jahia}
          }
        },
        {
          input: {
            index: ${mogobiz.cache.store},
            type: "brand",
            fields: ["id"]
            server: ${mogobiz.cache.server.es}
          },
          output: {
            uri: ${mogobiz.cache.uri.jahia.prefix}"/home/brands/{0}.html"
            server: ${mogobiz.cache.server.jahia}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.jahia.prefix}"/home/brands.html"
            server: ${mogobiz.cache.server.jahia}
          }
        },
        {
          input: {
            index: ${mogobiz.cache.store},
            type: "category",
            fields: "path"
            server: ${mogobiz.cache.server.es}
          },
          output: {
            uri: ${mogobiz.cache.uri.jahia.prefix}"/home/categories/{0}.html"
            server: ${mogobiz.cache.server.jahia}
          }
        },
        {
          output: {
            uri: ${mogobiz.cache.uri.jahia.prefix}"/home/categories.html"
            server: ${mogobiz.cache.server.jahia}
          }
        }
      ]
    }
  }
}